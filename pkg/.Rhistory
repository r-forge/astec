install.packages("C:/Boulot/Projets/astec/code/rstudio/astec_0.1.0.tar.gz", repos = NULL, type = "source")
library(astec)
w=1:5
make_average_logbodymass(w)
library(Rcpp)
compileAttributes()
compileAttributes()
compileAttributes()
remove.packages("astec")
install.packages("C:/Boulot/Projets/astec/code/rstudio/astec_0.1.0.tar.gz", repos = NULL, type = "source")
library(astec)
library(astec)
w=1:5
convolve_rcpp(w,w)
make_average_logbodymass(w)
mat=cbind(w,w)
make_average_logbodymass_matrix(mat)
mat=cbind(w,w)
make_average_logbodymass_matrix2(mat)
library(benchmark)
install.packages("microbenchmark")
library(microbenchmark)
?microbenchmark
?runif
a=rnorm(10000)
dim(a)=c(100,100)
microbenchmark(mat1=make_average_logbodymass_matrix(a), mat2=make_average_logbodymass_matrix(a),  times=20)
microbenchmark(mat1=make_average_logbodymass_matrix(a), mat2=make_average_logbodymass_matrix(a),  times=20)
library(astec)
w=1:5
convolve_rcpp(w,w)
mat=cbind(w,w)
make_average_logbodymass_matrix(mat)
make_average_logbodymass_matrix2(mat)
mat=cbind(w,w)
make_average_logbodymass_matrix(mat)
make_average_logbodymass_matrix3(mat)
library(microbenchmark)
a=rnorm(10000)
dim(a)=c(100,100)
microbenchmark(mat1=make_average_logbodymass_matrix(a), mat2=make_average_logbodymass_matrix2(a), mat3=make_average_logbodymass_matrix3(a),  times=20)
library(astec)
library(astec)
w=1:5
convolve_rcpp(w,w)
mat=cbind(w,w)
make_average_logbodymass_matrix(mat)
make_average_logbodymass_matrix2(mat)
make_average_logbodymass_matrix3(mat)
mat2=mat
make_average_logbodymass_matrix_void(mat,mat2)
mat
mat2
mat2=mat[1:4,]
mat2
mat2=mat
make_average_logbodymass_matrix_void(mat,mat2)
mat2=mat[1:4,]
make_average_logbodymass_matrix_void(mat,mat2)
mat2
mat
mat2
library(astec)
w=1:5
multiply_void(w,2)
mat=cbind(w,w)
multiply_void(mat,2)
mat
library(astec)
w=1:5
mat=cbind(w,w)
mat
mat2=mat
make_average_logbodymass_matrix_void(mat,mat2)
mat2
library(astec)
w=1:5
mat=cbind(w,w)
multiply_void(mat,2)
mat
multiply_void(mat,25)
mat
mat=multiply_void(mat,25)
mat
library(astec)
w=1:5+0.1
w
mat=cbind(w,w)
mat2=mat
multiply_void(mat,2)
mat
multiply_void(mat,2)
mat
make_average_logbodymass_matrix_void(mat,mat2)
mat2
w=1:5
mat3,cbind(w,w)
mat3=cbind(w,w)
mat3
make_average_logbodymass_matrix_void(mat3,mat2)
mat2
a=rnorm(10000)
dim(a)=c(100,100)
a2=a
microbenchmark(mat1=make_average_logbodymass_matrix(a), mat2=make_average_logbodymass_matrix2(a), mat3=make_average_logbodymass_matrix3(a),mat4=make_average_logbodymass_matrix_void(a,a2)  times=20)
microbenchmark(mat1=make_average_logbodymass_matrix(a), mat2=make_average_logbodymass_matrix2(a), mat3=make_average_logbodymass_matrix3(a),mat4=make_average_logbodymass_matrix_void(a,a2),  times=20)
library(microbenchmark)
microbenchmark(mat1=make_average_logbodymass_matrix(a), mat2=make_average_logbodymass_matrix2(a), mat3=make_average_logbodymass_matrix3(a),mat4=make_average_logbodymass_matrix_void(a,a2),  times=20)
library(astec)
library(microbenchmark)
a=rnorm(10000)
dim(a)=c(100,100)
a2=a
microbenchmark(mat1=make_average_logbodymass_matrix(a), mat2=make_average_logbodymass_matrix2(a), mat3=make_average_logbodymass_matrix3(a),mat4=make_average_logbodymass_matrix_void(a,a2),mat5=make_average_logbodymass_matrix_void2(a,a2),  times=20)
microbenchmark(mat1=make_average_logbodymass_matrix(a), mat2=make_average_logbodymass_matrix2(a), mat3=make_average_logbodymass_matrix3(a),mat4=make_average_logbodymass_matrix_void(a,a2),mat5=make_average_logbodymass_matrix_void2(a,a2),  times=100)
microbenchmark(mat1=make_average_logbodymass_matrix(a), mat2=make_average_logbodymass_matrix2(a), mat3=make_average_logbodymass_matrix3(a),mat4=make_average_logbodymass_matrix_void(a,a2),mat5=make_average_logbodymass_matrix_void2(a,a2),  times=1000)
multiply_void(mat,2)
mat
multiply_void(mat,2)
mat
library(astec)
w=1:5
mat=cbind(w,w)
multiply_void(mat,3)
mat
multiply_void(mat,2)
multiply_void(mat,2.0)
mat
mat=mat+0.1
mat
multiply_void(mat,2.0)
mat
mat=cbind(w,w)
multiply_void(mat,2.0)
mat
multiply_void(as.numeric(mat),2.0)
type(ma)
type(mat)
class(mat)
multiply_void(mat,2.0)
mat
multiply_void(mat+0.0,2.0)
mat
matb=mat+0.0
matb
multiply_void(matb,2.0)
matb
multiply_void(matb,2.0)
matb
w=1:5
mat=cbind(w,w)
matb=mat+0.0
multiply_void(mat,2)
multiply_void(matb,2)
mat
matb
multiply_void(mat,2.0)
mat
library(astec)
global_parameters=read.csv("data/astec_global_parameters.csv")
global_parameters
global_parameters=read.csv("data/astec_global_parameters.csv",h=F)
global_parameters
global_parameters=read.csv("data/astec_global_parameters.csv",h=F,row.names=T)
global_parameters=read.csv("data/astec_global_parameters.csv",h=F,names=T)
global_parameters=read.csv("data/astec_global_parameters.csv",h=F,rownames=T)
?read.csv
?read.csv
global_parameters=read.csv2("data/astec_global_parameters.csv",h=F,row.names=T)
global_parameters=read.csv2("data/astec_global_parameters.csv",h=F,names=T)
global_parameters=read.csv("data/astec_global_parameters.csv",h=T)
global_parameters
global_parameters=read.csv("data/astec_global_parameters.csv",h=F)
global_parameters
gp=global_parameters[,2]
gp
gp=global_parameters[,2]+0.0
gp
gp
class(gp)
gp=global_parameters[,2]
gp
class(gp)
gp=global_parameters[,2]+0.0
gp
class(gp)
name_trophic_groups=read.csv("data/name_trophic_groups.csv",h=F)
name_trophic_groups
name_trophic_groups=read.csv("data/astec_trophic_group_parameters.csv",h=F)
name_trophic_groups
gp
ntg=List(name_trophic_groups[1,2])
ntg
ntg=List::create(name_trophic_groups[1,2])
ntg
ntg=list(name_trophic_groups[1,2])
ntg
if (gp[1]>1){
for (i in 2:gp[1]){
ntg[[i]]=name_trophic_groups[1,(i+1)]
}
}
ntg
name_trophic_groups
n=dim(name_trophic_groups)
n
trophic_group_parameters =as.matrix(name_trophic_groups[2:n[1],2:n[2]])
trophic_group_parameters
trophic_group_parameters =as.matrix(as.numeric(name_trophic_groups[2:n[1],2:n[2]]))
as.numeric("-0.7")
trophic_group_parameters =as.matrix(name_trophic_groups[2:n[1],2:n[2]])
trophic_group_parameters
as.numeric(trophic_group_parameters)
trophic_group_parameters =as.numeric(name_trophic_groups[2:n[1],2:n[2]])
trophic_group_parameters =as.numeric(as.matrix(name_trophic_groups[2:n[1],2:n[2]]))
trophic_group_parameters
tgp=as.numeric(as.matrix(name_trophic_groups[2:n[1],2:n[2]]))
dim(tgp)=c(n[1]-1,n[2]-1)
tgp
gp
i=1
nam=paste("data/",ntg[[i]],".csv",sep="")
nam
animal_density_matrix=read.csv(nam,h=F)
animal_density_matrix
animal_density_matrix=read.csv(nam,h=F)+0.0
adm=NULL
for (i in 1:gp[1]){
nam=paste("data/",ntg[[i]],".csv",sep="")
animal_density_matrix=read.csv(nam,h=F)+0.0
adm=cbind(adm,animal_density_matrix)
}
library(astec)
global_parameters=read.csv("data/astec_global_parameters.csv",h=F)
global_parameters
gp=global_parameters[,2]+0.0
gp
class(gp)
name_trophic_groups=read.csv("data/astec_trophic_group_parameters.csv",h=F)
name_trophic_groups
ntg=list(name_trophic_groups[1,2])
if (gp[1]>1){
for (i in 2:gp[1]){
ntg[[i]]=name_trophic_groups[1,(i+1)]
}
}
n=dim(name_trophic_groups)
n
tgp=as.numeric(as.matrix(name_trophic_groups[2:n[1],2:n[2]]))
dim(tgp)=c(n[1]-1,n[2]-1)
tgp
i=1
nam=paste("data/",ntg[[i]],".csv",sep="")
animal_density_matrix=read.csv(nam,h=F)+0.0
animal_density_matrix
animal_density_matrix[,1]
adm=list()
for (i in 1:gp[1]){
nam=paste("data/",ntg[[i]],".csv",sep="")
animal_density_matrix=read.csv(nam,h=F)+0.0
adm[[i]]=as.numeric(animal_density_matrix[,1])
}
adm
class(adm[[1]])
jmm=list()
for (i in 1:gp[1]){
nam=paste("data/",ntg[[i]],"_juvenile_mass.csv",sep="")
juvenile=read.csv(nam,h=F)
jmm[[i]]=juvenile[,1]
}
class(jmm[[1]])
jmm
foodweb_inputs = list("global_parameters" = gp , "name_trophic_groups" = ntg, "trophic_group_parameters" = tgp, "animal_density_matrix" = adm, "juvenile_mass_matrix" = jmm)
library(astec)
global_parameters=read.csv("data/astec_global_parameters.csv",h=F)
global_parameters
gp=global_parameters[,2]+0.0
gp
class(gp)
name_trophic_groups=read.csv("data/astec_trophic_group_parameters.csv",h=F)
name_trophic_groups
ntg=list(name_trophic_groups[1,2])
if (gp[1]>1){
for (i in 2:gp[1]){
ntg[[i]]=name_trophic_groups[1,(i+1)]
}
}
n=dim(name_trophic_groups)
n
tgp=as.numeric(as.matrix(name_trophic_groups[2:n[1],2:n[2]]))
dim(tgp)=c(n[1]-1,n[2]-1)
tgp
adm=list()
for (i in 1:gp[1]){
nam=paste("data/",ntg[[i]],".csv",sep="")
animal_density_matrix=read.csv(nam,h=F)+0.0
adm[[i]]=as.numeric(animal_density_matrix[,1])
}
jmm=list()
for (i in 1:gp[1]){
nam=paste("data/",ntg[[i]],"_juvenile_mass.csv",sep="")
juvenile=read.csv(nam,h=F)
jmm[[i]]=juvenile[,1]
}
class(jmm[[1]])
foodweb_inputs = list("global_parameters" = gp , "name_trophic_groups" = ntg, "trophic_group_parameters" = tgp, "animal_density_matrix" = adm, "juvenile_mass_matrix" = jmm)
res=foodweb(foodweb_inputs)
res
global_parameters=read.csv("data/astec_global_parameters.csv",h=F)
global_parameters
gp=global_parameters[,2]+0.0
gp
class(gp)
name_trophic_groups=read.csv("data/astec_trophic_group_parameters.csv",h=F)
name_trophic_groups
ntg=list(name_trophic_groups[1,2])
if (gp[1]>1){
for (i in 2:gp[1]){
ntg[[i]]=name_trophic_groups[1,(i+1)]
}
}
n=dim(name_trophic_groups)
n
tgp=as.numeric(as.matrix(name_trophic_groups[2:n[1],2:n[2]]))
dim(tgp)=c(n[1]-1,n[2]-1)
tgp
adm=list()
for (i in 1:gp[1]){
nam=paste("data/",ntg[[i]],".csv",sep="")
animal_density_matrix=read.csv(nam,h=F)+0.0
adm[[i]]=as.numeric(animal_density_matrix[,1])
}
jmm=list()
for (i in 1:gp[1]){
nam=paste("data/",ntg[[i]],"_juvenile_mass.csv",sep="")
juvenile=read.csv(nam,h=F)
jmm[[i]]=juvenile[,1]
}
class(jmm[[1]])
foodweb_inputs = list("global_parameters" = gp , "name_trophic_groups" = ntg, "trophic_group_parameters" = tgp, "animal_density_matrix" = adm, "juvenile_mass_matrix" = jmm)
res=foodweb(foodweb_inputs)
library(astec)
global_parameters=read.csv("data/astec_global_parameters.csv",h=F)
global_parameters
gp=global_parameters[,2]+0.0
gp
class(gp)
name_trophic_groups=read.csv("data/astec_trophic_group_parameters.csv",h=F)
name_trophic_groups
ntg=list(name_trophic_groups[1,2])
if (gp[1]>1){
for (i in 2:gp[1]){
ntg[[i]]=name_trophic_groups[1,(i+1)]
}
}
n=dim(name_trophic_groups)
n
tgp=as.numeric(as.matrix(name_trophic_groups[2:n[1],2:n[2]]))
dim(tgp)=c(n[1]-1,n[2]-1)
tgp
adm=list()
for (i in 1:gp[1]){
nam=paste("data/",ntg[[i]],".csv",sep="")
animal_density_matrix=read.csv(nam,h=F)+0.0
adm[[i]]=as.numeric(animal_density_matrix[,1])
}
jmm=list()
for (i in 1:gp[1]){
nam=paste("data/",ntg[[i]],"_juvenile_mass.csv",sep="")
juvenile=read.csv(nam,h=F)
jmm[[i]]=juvenile[,1]
}
class(jmm[[1]])
foodweb_inputs = list("global_parameters" = gp , "name_trophic_groups" = ntg, "trophic_group_parameters" = tgp, "animal_density_matrix" = adm, "juvenile_mass_matrix" = jmm)
res=foodweb(foodweb_inputs)
res
for (i in 1:10){res=foodweb(foodweb_inputs)}
a=Sys.time()
for (i in 1:10){res=foodweb(foodweb_inputs)}
b=Sys.time()
b-a
a=Sys.time()
a=Sys.time()
for (i in 1:10){res=foodweb(foodweb_inputs)}
b=Sys.time()
b-a
a=Sys.time()
for (i in 1:1500){res=foodweb(foodweb_inputs)}
b=Sys.time()
b-a
library(astec)
global_parameters=read.csv("data/astec_global_parameters.csv",h=F)
global_parameters
gp=global_parameters[,2]+0.0
gp
class(gp)
name_trophic_groups=read.csv("data/astec_trophic_group_parameters.csv",h=F)
name_trophic_groups
ntg=list(name_trophic_groups[1,2])
if (gp[1]>1){
for (i in 2:gp[1]){
ntg[[i]]=name_trophic_groups[1,(i+1)]
}
}
n=dim(name_trophic_groups)
n
tgp=as.numeric(as.matrix(name_trophic_groups[2:n[1],2:n[2]]))
dim(tgp)=c(n[1]-1,n[2]-1)
tgp
adm=list()
for (i in 1:gp[1]){
nam=paste("data/",ntg[[i]],".csv",sep="")
animal_density_matrix=read.csv(nam,h=F)+0.0
adm[[i]]=as.numeric(animal_density_matrix[,1])
}
jmm=list()
for (i in 1:gp[1]){
nam=paste("data/",ntg[[i]],"_juvenile_mass.csv",sep="")
juvenile=read.csv(nam,h=F)
jmm[[i]]=juvenile[,1]
}
class(jmm[[1]])
cm=list()
for (i in 1:gp[1]){
nam=paste("data/",ntg[[i]],"_carrion_mass.csv",sep="")
carrion=read.csv(nam,h=F)
cm[[i]]=carrion[,1]
}
class(cm[[1]])
wm=list()
for (i in 1:gp[1]){
nam=paste("data/",ntg[[i]],"_waste_mass.csv",sep="")
waste=read.csv(nam,h=F)
wm[[i]]=waste[,1]
}
class(wm[[1]])
dm=list()
detritus=read.csv("data/detritus_mass.csv",h=F)
dm=as.vector(detritus[,1])
class(dm)
jmm
wm
cm
dm
foodweb_inputs = list("global_parameters" = gp , "name_trophic_groups" = ntg, "trophic_group_parameters" = tgp, "animal_density_matrix" = adm, "juvenile_mass" = jmm, "waste_mass"=wm, "carrion_mass"=cm, "detritus_mass"=dm)
res=foodweb(foodweb_inputs)
res
library(astec)
library(astec)
library(astec)
setwd("C:/Boulot/Projets/astec/code/rstudio/astec")
global_parameters=read.csv("data/astec_global_parameters.csv",h=F)
global_parameters
gp=global_parameters[,2]+0.0
gp
class(gp)
name_trophic_groups=read.csv("data/astec_trophic_group_parameters.csv",h=F)
name_trophic_groups
ntg=list(name_trophic_groups[1,2])
if (gp[1]>1){
for (i in 2:gp[1]){
ntg[[i]]=name_trophic_groups[1,(i+1)]
}
}
n=dim(name_trophic_groups)
n
tgp=as.numeric(as.matrix(name_trophic_groups[2:n[1],2:n[2]]))
dim(tgp)=c(n[1]-1,n[2]-1)
tgp
adm=list()
for (i in 1:gp[1]){
nam=paste("data/",ntg[[i]],".csv",sep="")
animal_density_matrix=read.csv(nam,h=F)+0.0
adm[[i]]=as.numeric(animal_density_matrix[,1])+0.0
}
jmm=list()
for (i in 1:gp[1]){
nam=paste("data/",ntg[[i]],"_juvenile_mass.csv",sep="")
juvenile=read.csv(nam,h=F)
jmm[[i]]=juvenile[,1]+0.0
}
class(jmm[[1]])
cm=list()
for (i in 1:gp[1]){
nam=paste("data/",ntg[[i]],"_carrion_mass.csv",sep="")
carrion=read.csv(nam,h=F)
cm[[i]]=carrion[,1]+0.0
}
class(cm[[1]])
wm=list()
for (i in 1:gp[1]){
nam=paste("data/",ntg[[i]],"_waste_mass.csv",sep="")
waste=read.csv(nam,h=F)
wm[[i]]=waste[,1]+0.0
}
class(wm[[1]])
detritus=read.csv("data/detritus_mass.csv",h=F)
dm=as.vector(detritus[,1])+0.0
class(dm)
detritus_amount=read.csv("data/detritus_amount.csv",h=F)
da=as.vector(detritus_amount[,1])+0.0
class(da)
plant=read.csv("data/green_biomass_day_no_cut.csv",h=F)
pbs=as.vector(plant[,1])+0.0
class(pbs)
plant_senescence=read.csv("data/plant_senescence_parameters.csv",h=F)
psp=as.vector(plant_senescence[,1])+0.0
class(psp)
foodweb_inputs = list("global_parameters" = gp , "name_trophic_groups" = ntg, "trophic_group_parameters" = tgp, "animal_density_matrix" = adm, "juvenile_mass" = jmm, "waste_mass"=wm, "carrion_mass"=cm, "detritus_mass"=dm,"detritus_amount"=da,"plant_biomass_series"=pbs,"plant_senescence_parameters"=psp)
foodweb_inputs$trophic_group_parameters
library(astec)
library(astec)
